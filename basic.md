# 深入了解

## 各个模块

- `mooc.py`：主程序
- `icourse.py`：中国大学MOOC·模块
- `study.py`：网易云课堂 MOOC 模块
- `xuetangx.py`：学堂在线·模块

## 课程目录结构

课程的目录可能有如下文件或目录

```text
<cousre>
|-- Outline.txt
|-- Playlist.dpl
|-- Files/
|-- PDFs/
|-- Texts/
`-- Videos/
    |-- Rename.bat
    `-- Videos.txt
```

### 课程大纲/目录

`Outline.txt` 是课程的大纲，它的内容类似

```text
6.1 空间直角坐标系及向量 {1}
  6.1.1 空间直角坐标系的基本概念 {1.1}
    6.1.1 空间直角坐标系的基本概念（视频） {1.1.1}#
    6.1.1 空间直角坐标系的基本概念（PPT） {1.1.1}+
    6.1.1 空间直角坐标系的基本概念（PPT） 空间直角坐标系的基本概念.rar {1.1.1}!
...
```

每个级别依次增加 2 个空格的缩进，`{}` 之间的是程序生成的编号，用来唯一标识一个资源（比如视频、富文本等等）。

`{1.1.1}` 说明该视频文件以 `1.1.1` 开头，可以在 `Videos/` 中找到。如此可以方便地找到视频。

有些后面可能有奇怪的符号，比如 `{1.1.1}+` 的后面有个 `+`。下面是符号的说明：

- `#`：视频，可以下载到 `Videos/`
- `*`：课件，一般是 PDF 文件，位于 `PDFs/`
- `+`：富文本，一般是 HTML 文件，位于 `Texts/`
- `!`：附件，位于 `Files/`
- `&`：字幕，位于 `Videos/`

### 视频地址

`Videos.txt` 是视频的链接，它的内容类似

```text
http://v.stu.126.net/mooc-video/nos/mp4/2017/02/21/1005820377_aa6e1b0d92314cdfaf6dcad3351b3533_shd.mp4?ak=99ed7479ee303d1b1361b0ee5a4abcee11069a7277fd2bfbd983de77f6586b3ab4d3781458cdbd61bf0041fae59dee85cb91769ba5850a28845217d0bc9bfb580015e48ffc49c659b128bfe612dda086d65894b8ef217f1626539e3c9eb40879c29b730d22bdcadb1b4f67996129275fa4c38c6336120510aea1ae1790819de86e0fa3e09eeabea1b068b3d9b9b6597acf0c219eb000a69c12ce9d568813365b3e099fcdb77c69ca7cd6141d92c122af
http://v.stu.126.net/mooc-video/nos/mp4/2017/02/21/1005822368_a91783c5f05a49e29960d24f1dc06f15_shd.mp4?ak=99ed7479ee303d1b1361b0ee5a4abcee11069a7277fd2bfbd983de77f6586b3a33090c48273cc5e338f1d269a2b016013857294759d07b499e26c45d788128b30015e48ffc49c659b128bfe612dda086d65894b8ef217f1626539e3c9eb40879c29b730d22bdcadb1b4f67996129275fa4c38c6336120510aea1ae1790819de86e0fa3e09eeabea1b068b3d9b9b6597acf0c219eb000a69c12ce9d568813365b3e099fcdb77c69ca7cd6141d92c122af
...
```

复制到下载工具下载，比如 [aria2](https://github.com/aria2/aria2/releases)、[迅雷](http://dl.xunlei.com/) 等，也可以直接在浏览器中打开。

!> 建议下载到 `Videos/` 中，可以使用 `Rename.bat` 进行重命名，有字幕也会自动加载，也方便管理。

### 视频文件名

`Rename.bat` 用于将视频重命名，它的内容类似

```text
CHCP 65001

REN "1005820377_aa6e1b0d92314cdfaf6dcad3351b3533_shd.mp4" "1.1.1 空间直角坐标系的基本概念(视频）.mp4"
REN "1005822368_a91783c5f05a49e29960d24f1dc06f15_shd.mp4" "1.2.1 向量的坐标表示(视频）.mp4"
REN "1005817378_500b5301360f49c18c6f8d3406959cf5_shd.mp4" "1.3.1 向量的模、方向余弦、投影（视频）.mp4"
REN "1005821395_ff485bb1e65145ec90bf04a259eb6b0e_shd.mp4" "2.1.1 向量的数量积(视频）.mp4"
REN "1005821396_9180e5908bc847548a8db625af9b1ad7_shd.mp4" "2.2.1 向量的数量积（续）（视频）.mp4"
REN "1005817386_18d7ede415ec4cb5befa71a9d790ce0f_shd.mp4" "2.3.1 向量的向量积（视频）.mp4"
REN "1005822373_8bf3846066e045cda306bd7d27e38786_shd.mp4" "2.4.1 向量的向量积（续）（视频）.mp4"
REN "1005899086_7780acc4ac074ed89b6301e41349a2c1_shd.mp4" "3.1.1 平面方程（视频）.mp4"
...
```

下载下来的视频文件名是一团糟的，比如

```text
1005820377_aa6e1b0d92314cdfaf6dcad3351b3533_shd.mp4
```

当视频和这个文件在同一个文件夹的时候，双击该文件，视频的文件名就清晰整齐了，也会按照章节次序排列。

### 播放列表

打开 `Playlist.dpl` 即可播放 `Vidoes/` 中的视频。

?> 由于文件系统的限制，特殊字符比如 `"` `/` `\` 都不允许出现在文件名中，所以文件名中的特殊字符是被删除的。假如原视频的标题是「有 3/4 的概率会下雨」，就会变成 `有 34 的概率会下雨`，就很奇怪吧。而播放的列表就可以解决这个问题，在播放列表中会显示 `有 3/4 的概率会下雨`。

### 说明

学堂在线暂时只有 `Books`，没有 `PDFs`，因为如果提供 PPT 的话，在讲义那一栏就有链接可以下载。
